{"ast":null,"code":"import axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nimport setAuthorizationToken from '../utils/setAuthorizationToken';\nimport { SET_CURRENT_USER } from '../constants';\nexport var setCurrentUser = function setCurrentUser(user) {\n  return {\n    type: SET_CURRENT_USER,\n    user: user\n  };\n};\nexport var login = function login(data) {\n  return function (dispatch) {\n    return axios.post('/api/auth', data).then(function (res) {\n      var token = res.data.token;\n      localStorage.setItem('jwtToken', token);\n      setAuthorizationToken(token);\n      dispatch(setCurrentUser(jwtDecode(token)));\n    });\n  };\n};\nexport var logout = function logout() {\n  return function (dispatch) {\n    localStorage.removeItem('jwtToken');\n  };\n};","map":{"version":3,"sources":["/Users/tzeng/Development/reduxlogin/client/src/actions/authActions.js"],"names":["axios","jwtDecode","setAuthorizationToken","SET_CURRENT_USER","setCurrentUser","user","type","login","data","dispatch","post","then","res","token","localStorage","setItem","logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,qBAAP,MAAkC,gCAAlC;AACA,SAASC,gBAAT,QAAiC,cAAjC;AAEA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AACpC,SAAO;AACHC,IAAAA,IAAI,EAAEH,gBADH;AAEHE,IAAAA,IAAI,EAAJA;AAFG,GAAP;AAIH,CALM;AAOP,OAAO,IAAME,KAAK,GAAG,SAARA,KAAQ,CAACC,IAAD,EAAU;AAC3B,SAAO,UAAAC,QAAQ,EAAI;AACf,WAAOT,KAAK,CAACU,IAAN,CAAW,WAAX,EAAwBF,IAAxB,EAA8BG,IAA9B,CAAmC,UAAAC,GAAG,EAAI;AAC7C,UAAMC,KAAK,GAAID,GAAG,CAACJ,IAAJ,CAASK,KAAxB;AAEAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,KAAjC;AACAX,MAAAA,qBAAqB,CAACW,KAAD,CAArB;AACAJ,MAAAA,QAAQ,CAACL,cAAc,CAACH,SAAS,CAACY,KAAD,CAAV,CAAf,CAAR;AACH,KANM,CAAP;AAOH,GARD;AASH,CAVM;AAYP,OAAO,IAAMG,MAAM,GAAG,SAATA,MAAS,GAAM;AACxB,SAAO,UAAAP,QAAQ,EAAI;AACfK,IAAAA,YAAY,CAACG,UAAb,CAAwB,UAAxB;AACH,GAFD;AAGH,CAJM","sourcesContent":["import axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nimport setAuthorizationToken from '../utils/setAuthorizationToken'\nimport { SET_CURRENT_USER } from '../constants'\n\nexport const setCurrentUser = (user) => {\n    return {\n        type: SET_CURRENT_USER,\n        user\n    }\n} \n\nexport const login = (data) => {\n    return dispatch => {\n        return axios.post('/api/auth', data).then(res => {\n            const token =  res.data.token;\n\n            localStorage.setItem('jwtToken', token);\n            setAuthorizationToken(token);\n            dispatch(setCurrentUser(jwtDecode(token)));\n        })\n    }\n}\n\nexport const logout = () => {\n    return dispatch => {\n        localStorage.removeItem('jwtToken')\n    }\n} "]},"metadata":{},"sourceType":"module"}